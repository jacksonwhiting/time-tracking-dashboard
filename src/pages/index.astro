---
import Root from "../components/Root.tsx"

import MainLayout from "../layouts/main-layout.astro"

import type { timeDataItem } from "../components/Time-card"

const data: timeDataItem[] = await fetch(
	"https://mocki.io/v1/c8d55f84-8d73-408f-8630-4ef474a73b73"
).then((response) => {
	try {
		if (!response.ok) {
			throw new Error(
				"Received a response other than 'ok' when fetching data from the URL "
			)
		} else {
			return response.json()
		}
	} catch (error) {
		console.log(error)
	}
})
---

<MainLayout title="Time Tracking Dashboard">
	<Root timeData={data} />
</MainLayout>
