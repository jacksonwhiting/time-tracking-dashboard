---
import Root from "../components/Root.tsx"

import MainLayout from "../layouts/main-layout.astro"

export interface timeDataItem {
	title?: string
	timeframes?: {
		daily: {
			current: number
			previous: number
		}
		weekly: {
			current: number
			previous: number
		}
		monthly: {
			current: number
			previous: number
		}
	}
}

export type timeDataItems = Array<timeDataItem>

const data = await fetch(
	"https://mocki.io/v1/c8d55f84-8d73-408f-8630-4ef474a73b73"
).then((response) => {
	try {
		if (!response.ok) {
			throw new Error(
				"Received a response other than 'ok' when fetching data from the URL "
			)
		} else {
			return response.json()
		}
	} catch (error) {
		console.log(error)
	}
})

console.log(data)
---

<MainLayout title="Time Tracking Dashboard">
	<Root title={data[0].title} />
</MainLayout>
